---
title: Enable vulnerability assessment (Classic)
description: Learn how to enable SQL vulnerability assessment on Azure SQL Database, Azure SQL Managed Instance, and Azure Synapse Analytics.
author: dcurwin
ms.author: dacurwin
ms.date: 12/10/2024
ms.service: defender-for-cloud
ms.topic: how-to
ms.custom: sqldbrb=3
---

# Enable vulnerability assessment on your Azure SQL databases classic configuration

In this article, you learn how to enable [vulnerability assessment](sql-azure-vulnerability-assessment-overview.md) classic, so you can find and remediate database vulnerabilities. We recommend that you enable vulnerability assessment using the [express configuration](sql-azure-vulnerability-assessment-enable.md) so you aren't dependent on a storage account.

## Prerequisites

- Make sure thatâ€¯[Microsoft Defender for Azure SQL](defender-for-databases-introduction.md) is enabled so that you can run scans on your Azure SQL databases.
- Make sure you read and understand the [differences between the express and classic configuration](sql-azure-vulnerability-assessment-overview.md#whats-the-difference-between-the-express-and-classic-configuration).

## Enable vulnerability assessment classic configuration

When you enable the Defender for Azure SQL plan in Defender for Cloud, Defender for Cloud automatically enables Advanced Threat Protection and vulnerability assessment with the classic configuration for all Azure SQL databases in the selected subscription.

When you enable the Defender for Azure SQL plan in Defender for Cloud, Defender for Cloud automatically enables Advanced Threat Protection and vulnerability assessment with the express configuration for all Azure SQL databases in the selected subscription.

If you have Azure SQL databases with vulnerability assessment enabled in the classic configuration, you can enable the express configuration so that assessments don't require a storage account.

If you have Azure SQL databases with vulnerability assessment disabled, you can enable vulnerability assessment with the classic configuration.

To enable vulnerability assessment with a storage account, use the classic configuration:

1. In the [Azure portal](https://portal.azure.com), open the specific resource in Azure SQL Database, SQL Managed Instance Database, or Azure Synapse.

1. Under the **Security** heading, select **Defender for Cloud**.

1. Select **Configure** on the link to open the Microsoft Defender for SQL settings pane for either the entire server or managed instance.

    :::image type="content" source="media/defender-for-sql-azure-vulnerability-assessment/opening-sql-configuration.png" alt-text="Screenshot of the Defender for SQL configuration.":::

1. In the **Server settings** page, enter the Microsoft Defender for SQL settings:

    :::image type="content" source="media/defender-for-sql-azure-vulnerability-assessment/sql-vulnerability-scan-settings.png" alt-text="Screenshot of configuring the SQL vulnerability assessment scans.":::

    1. Configure a storage account where your scan results for all databases on the server or managed instance will be stored. For information about storage accounts, see [About Azure storage accounts](/azure/storage/common/storage-account-create).

    1. To configure vulnerability assessments to automatically run weekly scans to detect security misconfigurations, set **Periodic recurring scans** to **On**. The results are sent to the email addresses you provide in **Send scan reports to**. You can also send email notification to admins and subscription owners by enabling **Also send email notification to admins and subscription owners**.

    > [!NOTE]
    > Each database is randomly assigned a scan time on a set day of the week. Email notifications are scheduled randomly per server on a set day of the week. The email notification report includes data from all recurring database scans that were executed during the preceding week (does not include on-demand scans).

## Related content

Learn more about:

- [Microsoft Defender for Azure SQL](defender-for-sql-introduction.md)
- [Data discovery and classification](/azure/azure-sql/database/data-discovery-and-classification-overview)
- [Storing scan results in a storage account behind firewalls and VNets](/azure/azure-sql/database/sql-database-vulnerability-assessment-storage)
