---
title: Scan your Azure SQL databases for vulnerabilities
description: Learn how to configure SQL vulnerability assessment and interpret the reports on Azure SQL Database, Azure SQL Managed Instance, and Synapse Analytics.
author: Elazark
ms.author: elkrieger
ms.date: 09/11/2025
ms.service: defender-for-cloud
+ ms.topic: overview
#customer intent: As a database administrator, I want to scan my Azure SQL databases for vulnerabilities so that I can improve security.
---

# SQL vulnerability assessment overview

[!INCLUDE [21Vianet](./includes/21vianet-retirement.md)]

SQL vulnerability assessment is an easy-to-configure service that can discover, track, and help you remediate potential database vulnerabilities. Use it to proactively improve your database security for:

:::image type="icon" source="./media/icons/yes-icon.png"::: Azure SQL Database
:::image type="icon" source="./media/icons/yes-icon.png"::: Azure SQL Managed Instance
:::image type="icon" source="./media/icons/yes-icon.png"::: Azure Synapse Analytics

Vulnerability assessment is part of [Microsoft Defender for Azure SQL](defender-for-sql-introduction.md), a unified package for advanced SQL security capabilities. You can access and manage vulnerability assessment from each SQL database resource in the Azure portal.

> [!NOTE]
> Vulnerability assessment is supported for Azure SQL Database, Azure SQL Managed Instance, and Azure Synapse Analytics. Databases in Azure SQL Database, Azure SQL Managed Instance, and Azure Synapse Analytics are collectively referred to as databases in this article. The server refers to the [server](/azure/azure-sql/database/logical-servers) that hosts databases for Azure SQL Database and Azure Synapse.

## What is SQL vulnerability assessment?

SQL vulnerability assessment provides visibility into your database security state. It includes actionable steps to resolve security issues and enhance your SQL security posture.

Vulnerability assessment is a scanning service built into Azure SQL. It uses a knowledge base of rules that flag security vulnerabilities and deviations from best practices, such as misconfigurations, excessive permissions, and unprotected sensitive data.

The rules are based on Microsoft's best practices and focus on the security issues that present the biggest risks to your database and its valuable data. They cover database-level issues and server-level security issues, like server firewall settings and server-level permissions.

Scan results include actionable steps to resolve each issue and provide customized remediation scripts where applicable. Customize an assessment report for your environment by setting an acceptable baseline for:

- Permission configurations.
- Feature configurations.
- Database settings.

## SQL Vulnerability Assessment findings

SQL Vulnerability Assessment findings are represented as security recommendations in Microsoft Defender for Cloud. 

These findings appear using different models:

### Assessment-based experience (Preview)

In the assessment-based experience, each SQL vulnerability assessment rule is surfaced as a separate recommendation associated with the affected SQL database resource.

In this model:

- Each SQL vulnerability assessment rule corresponds to its own recommendation.
- Recommendations are associated directly with the affected SQL database resource.
- Each rule can be reviewed, remediated, or marked as baseline independently.
- SQL vulnerability assessment findings follow the same recommendation structure used across Microsoft Defender for Cloud.

### Server-level (aggregated) experience

In the server-level representation, SQL vulnerability assessment findings are grouped under broader SQL vulnerability assessment recommendations. Individual rule results are available within those recommendations.

In this model:

- Multiple SQL vulnerability assessment rule results are grouped within a single recommendation.
- Findings are reviewed and managed within the context of the broader recommendation.
- The representation determines how results are organized, not the scan results themselves.

## How SQL vulnerability assessment is configured

SQL Vulnerability Assessment supports two configuration models: 

### Express configuration

In the express configuration, Microsoft Defender for Cloud manages storage for vulnerability assessment scan results. No customer-managed storage account is required.

Scan results are stored in the same Azure region as the logical SQL server.

#### Permissions

| Task | Required roles |
|------|----------------|
| View SQL vulnerability assessment results in Microsoft Defender for Cloud recommendations | Security Admin or Security Reader |
| Change SQL vulnerability assessment settings | SQL Security Manager |
| Access resource-level scan results or automated email links | SQL Security Manager |

#### Data residency

Scan results are stored in the same Azure region as the logical SQL server. Data is collected and stored only when SQL vulnerability assessment is enabled.

### Classic configuration

In the classic configuration, scan results are stored in a customer-managed Azure Storage account that you configure. You control the storage account location, access model, and resiliency.

#### Permissions

| Task | Required roles |
|------|----------------|
| View SQL vulnerability assessment results in Microsoft Defender for Cloud recommendations | Security Admin or Security Reader |
| Change SQL vulnerability assessment settings | SQL Security Manager **and** Storage Blob Data Reader **and** Owner (on the storage account) |
| Access resource-level scan results or automated email links | SQL Security Manager **and** Storage Blob Data Reader |

#### Data residency

Scan results are stored in the Azure Storage account you configure. The storage account location determines data residency.

### Configuration model comparison

The following table compares the capabilities and behavior differences between the express and classic configurations:

| Parameter | Express configuration | Classic configuration |
|--|--|--|
| Supported SQL Flavors | • Azure SQL Database<br>• Azure Synapse Dedicated SQL Pools (formerly Azure SQL Data Warehouse) | • Azure SQL Database<br>• Azure SQL Managed Instance<br>• Azure Synapse Analytics |
| Supported Policy Scope | • Subscription<br>• Server | • Subscription<br>• Server<br>• Database |
| Dependencies | None | Azure storage account |
| Recurring scan | • Always active<br>• Scan scheduling is internal and not configurable | • Configurable on/off<br>Scan scheduling is internal and not configurable |
| System databases scan | • Scheduled scan<br>• Manual scan | • Scheduled scan only if there's one user database or more<br>• Manual scan every time a user database is scanned |
| Supported Rules | All vulnerability assessment rules for the supported resource type | All vulnerability assessment rules for the supported resource type |
| Baseline Settings | • Batch – several rules in one command<br>• Set by latest scan results<br>• Single rule | • Single rule |
| Apply baseline | Takes effect **without** rescanning the database | Takes effect **only after** rescanning the database |
| Single rule scan result size | Maximum of 1 MB | Unlimited |
| Email notifications | • Logic Apps | • Internal scheduler<br>• Logic Apps |
| Scan export | Azure Resource Graph | Excel format, Azure Resource Graph |
| Supported Clouds | :::image type="icon" source="./media/icons/yes-icon.png"::: Commercial clouds<br>:::image type="icon" source="./media/icons/yes-icon.png"::: Azure Government<br>:::image type="icon" source="./media/icons/yes-icon.png"::: Microsoft Azure operated by 21Vianet | :::image type="icon" source="./media/icons/yes-icon.png"::: Commercial clouds<br>:::image type="icon" source="./media/icons/yes-icon.png"::: Azure Government<br>:::image type="icon" source="./media/icons/yes-icon.png"::: Azure operated by 21Vianet |

## Related content

- Enable [SQL vulnerability assessments](sql-azure-vulnerability-assessment-enable.md)
- Express configuration [common questions](faq-defender-for-databases.yml) and [Troubleshooting](sql-azure-vulnerability-assessment-manage.md?tabs=express#troubleshooting).
- Learn more about [Microsoft Defender for Azure SQL](defender-for-sql-introduction.md).
- Learn more about [data discovery and classification](/azure/azure-sql/database/data-discovery-and-classification-overview).
- Learn more about [storing vulnerability assessment scan results in a storage account accessible behind firewalls and VNets](/azure/azure-sql/database/sql-database-vulnerability-assessment-storage).
- [Find and remediate SQL vulnerability assessment findings](sql-azure-vulnerability-assessment-find.md)
