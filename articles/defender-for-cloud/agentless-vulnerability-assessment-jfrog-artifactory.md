---
title: Vulnerability assessments for Jfrog Artifactory external registry with Microsoft Defender Vulnerability Management
description: Configure vulnerability assessments for Jfrog Artifactory as an external registry with Microsoft Defender Vulnerability Management.
ms.author: a-ehorwitz
ms.date: 09/01/2024
ms.topic: how-to
---

# Vulnerability assessments for Jfrog Artifactory (Cloud) external registry with Microsoft Defender Vulnerability Management


A key aspect of Defender for Containers' security solution is to provide container image vulnerability assessment throughout its lifecycle, from code development to cloud deployment.

To achieve this goal, comprehensive coverage is needed for all stages of the container image life cycle, including container images from external registries such as Jfrog Artifactory (Cloud) container registry, which is widely used by both enterprises and SMB organizations.

Microsoft Defender for Containers covers Jfrog Artifactory security for inventory discovery, security posture evaluation, and vulnerability assessment -   same security capabilities available also for cloud-native registries like ACR, ECR, and GCR.

## Functionality

**Inventory** – Identify and list all available container images within the Jfrog Artifactory tenant.

**Vulnerability Assessment**– Regularly scan the Jfrog Artifactory tenant for supported container images, identify vulnerabilities, and provide recommendations for issues to be addressed.

## Prerequisites

1. To use Microsoft Defender for Containers with your organizational Jfrog Artifactory account you must have administrative access to your Jfrog Artifactory tenant.
2. Installation scripts support following operation systems :  **Windows**, **Linux** or **macOs** .
3. Make sure following tools to be installed on the machine on which you are running installation script:

   a. Installation of Jfrog CLI tool (for details and installation guidelines please refer to Jfrog official documentation: [JFrog CLI | JFrog Applications](https://docs.jfrog-applications.jfrog.io/jfrog-applications/jfrog-cli) )
   
   b. Installation of [https://jqlang.github.io/jq/](https://jqlang.github.io/jq/) for JSON parsing and manipulation`



## Onboarding of Jfrog Artifactory environment  

Individuals who have "Security administrator" or “Global administration” privileges in Microsoft Defender for Cloud can add a new Jfrog Artifactory environmen

![Jfrog Artifactory as a new environment connector.](media/agentless-vulnerability-assessment-jfrog-artifactory/1_Env.jpg)

Each connector corresponds to only one Jfrog Artifactory tenant.
You must create a seperate connector for each tenant that is to have security coverage.

The onboarding interface for adding a new external registry allows the user to designate the type of container registry as a new environment classified as “Jfrog Artifactory”.

**Environment wizard assists with the onboarding process:**

1. *Connector Details*

![Connector Details.](media/agentless-vulnerability-assessment-jfrog-artifactory/2-connector-details.jpg)

   **Connector name:** Specify a unique connector name.
   
   **Location:** Specify the geographic location where Defender for Cloud stores the data associated with this connector.
   
   **Subscription:** The hosting subscription that defines the RBAC scope, and billing entity for the __Jfrog Artifactory__ environment.
   
   **Resource group:** for RBAC purposes.
   
   
   > [!NOTE]
   > A single subscription can be linked to one __Jfrog Artifactory__ environment instance, although container images from this instance may be deployed to multiple environments that are overseen by Defender for Cloud, outside the boundaries of the associated subscription.
   
   **Scanning intervals:**  Set the container registry re-scan interval with hourly precision.
   
   **Server ID:** This is a prefix of customers __Jfrog Artifactory__ account URL. Example:   **MYSERVERID** is the server ID of **https:/MYSERVERID.jfrog.io/** 
   
2. Select Plans
 Multiple plans exist for these kinds of environments:
     
![#3_Plans](media/agentless-vulnerability-assessment-jfrog-artifactory/3-plans.jpg)

   **Foundational CSPM:** Basic plan available for all customers, provides inventory capabilities only.

   **Containers:** Offers inventory and vulnerability assessment features.  

   **Defender CSPM:** Offers inventory and vulnerability assessment features, plus extra capabilities like attack path analysis and code-to-cloud mapping.

> [!NOTE] 
>For information regarding the plan pricing review [Microsoft Defender for Cloud pricing](https://azure.microsoft.com/pricing/details/defender-for-cloud/).  
>Ensure your **Jfrog Artifactory** environment plans are in sync with your cloud environment plans and share the same subscription to maximize coverage.

3. Configure Access

To maintain a continuous and secure link between Defender for Cloud and your **Jfrog Artifactory** tenant, you need to execute a connector scripting via Jfrog CLI.

Each **Jfrog Artifactory** connector corresponds to one **Jfrog Artifactory** tenant. Therefore, onboard a separate **Jfrog Artifactory** Environment Connector in Defender for Cloud for each **Jfrog Artifactory** tenant you are administrating to achieve optimal security coverage for your container software supply chain.

Download the relevant installation script, based on the operating system of the environment from which you intend to run the connector script (**Windows** or **Linux/macOS** )

![Configure access.](media/agentless-vulnerability-assessment-jfrog-artifactory/4-configure-access.png)

Execute the connector script via [Jfrog CLI](https://docs.jfrog-applications.jfrog.io/jfrog-applications/jfrog-cli)

4. Review and generate

Review all the configured connector details before onboarding finalization.
   
![#4_Review and generate](media/agentless-vulnerability-assessment-jfrog-artifactory/4-review-and-generate.jpg)

5. Validate connectivity  

Verify the connection record is successful and displays “Connected” on the environment’s settings screen

![#5_finalization](media/agentless-vulnerability-assessment-jfrog-artifactory/5-finalization.jpg)

6. Validate feature is working properly
> [!NOTE] 
> **Jfrog Artifactor** initiates container registry scanning within up to one hour upon onboarding.

- **Inventory** – Make sure your see __Jfrog Artifactory__ container images in __Microsoft Defender for Cloud__ | Inventory view

![#6_Inventory](media/agentless-vulnerability-assessment-jfrog-artifactory/6-inventory.jpg)

-  __Vulnerability Assessment –__ Ensure you receive the recommendation ["[Preview] Container images in Jfrog Artifactory registry should have vulnerability findings resolved"](/azure/defender-for-cloud/recommendations-reference-container) for addressing security issues in your __Jfrog Artifactory__ container images.

![#7_Reccomendations](media/agentless-vulnerability-assessment-jfrog-artifactory/7-reccomendations.jpg)

__Related content__

- [Overview of Container security in Microsoft Defender for Containers](/azure/defender-for-cloud/defender-for-containers-introduction)

- [How-to view and remediate vulnerability assessment findings for registry images](/azure/defender-for-cloud/view-and-remediate-vulnerability-registry-images)

